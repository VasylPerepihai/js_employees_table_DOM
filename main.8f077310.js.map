{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tableRows","tBodies","rows","clickedCell","isCellClicked","convertToNumber","salaryString","salaryNumber","slice","split","join","tHead","onclick","e","target","cellName","innerText","sortedArr","Array","from","sort","a","b","cells","cellIndex","append","currentActive","classList","remove","parentElement","add","form","createElement","className","innerHTML","body","saveButton","personName","elements","Name","value","age","Age","position","Position","office","Office","salary","Salary","length","pushNotification","newRow","toLocaleString","preventDefault","posTop","posRight","title","description","type","div","style","dataset","qa","top","right","setTimeout","addEventListener","changeValue","removedTxt","input","onblur","changeCell","ev","onkeydown","code","blur"],"mappings":"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","file":"main.8f077310.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tableRows = table.tBodies[0].rows;\nlet clickedCell = '';\nlet isCellClicked = false;\n\nfunction convertToNumber(salaryString) {\n  const recString = salaryString.slice(1);\n  const salaryNumber = +recString.split(',').join('');\n\n  return salaryNumber;\n}\n\ntable.tHead.onclick = function(e) {\n  const target = e.target;\n  const cellName = target.innerText;\n\n  isCellClicked = (cellName === clickedCell);\n\n  const sortedArr = Array.from(tableRows);\n\n  switch (cellName) {\n    case 'Name':\n    case 'Position':\n    case 'Office':\n      sortStr();\n      break;\n    case 'Age':\n      sortNum();\n      break;\n    case 'Salary':\n      sortSalary();\n      break;\n  }\n\n  function sortStr() {\n    sortedArr.sort((a, b) => {\n      if (isCellClicked) {\n        return a.cells[target.cellIndex].innerText\n        > b.cells[target.cellIndex].innerText\n          ? -1\n          : 1;\n      } else {\n        return a.cells[target.cellIndex].innerText\n        > b.cells[target.cellIndex].innerText\n          ? 1\n          : -1;\n      };\n    });\n  };\n\n  function sortNum() {\n    sortedArr.sort((a, b) => {\n      if (isCellClicked) {\n        return a.cells[target.cellIndex].innerText\n        - b.cells[target.cellIndex].innerText;\n      } else {\n        return b.cells[target.cellIndex].innerText\n        - a.cells[target.cellIndex].innerText;\n      };\n    });\n  }\n\n  function sortSalary() {\n    sortedArr.sort((a, b) => {\n      if (isCellClicked) {\n        return convertToNumber(a.cells[target.cellIndex].innerText)\n        - convertToNumber(b.cells[target.cellIndex].innerText);\n      } else {\n        return convertToNumber(b.cells[target.cellIndex].innerText)\n        - convertToNumber(a.cells[target.cellIndex].innerText);\n      };\n    });\n  };\n\n  clickedCell = target.innerText;\n\n  table.tBodies[0].append(...sortedArr);\n};\n\ntable.tBodies[0].onclick = function(e) {\n  const target = e.target;\n  const currentActive = table.tBodies[0].querySelector('.active');\n\n  if (currentActive) {\n    currentActive.classList.remove('active');\n  };\n\n  target.parentElement.classList.add('active');\n};\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n<label>Name: <input name=\"Name\" type=\"text\" data-qa=\"name\" required></label>\n<label>Position: \n  <input name=\"Position\" type=\"text\" data-qa=\"position\" required></label>\n<label>Office:\n  <select id=\"office\" name=\"Office\" data-qa=\"office\" required>\n    <option value=\"Tokyo\">Tokyo</option>\n    <option value=\"Singapore\">Singapore</option>\n    <option value=\"London\">London</option>\n    <option value=\"New York\">New York</option>\n    <option value=\"Edinburgh\">Edinburgh</option>\n    <option value=\"San Francisco\">San Francisco</option>\n  </select>\n</label>\n<label>Age: <input name=\"Age\" type=\"number\" data-qa=\"age\" required></label>\n<label>Salary: \n  <input name=\"Salary\" type=\"number\" data-qa=\"salary\" required></label>\n<button>Save to table</button>\n`;\n\ndocument.body.append(form);\n\nconst saveButton = form.querySelector('button');\n\nsaveButton.onclick = function(e) {\n  const personName = form.elements.Name.value;\n  const age = form.elements.Age.value;\n  const position = form.elements.Position.value;\n  const office = form.elements.Office.value;\n  const salary = +form.elements.Salary.value;\n\n  if (personName.length < 4) {\n    pushNotification(10, 10, 'Error', 'name should be >= 4 symbols', 'error');\n\n    return;\n  }\n\n  if (age < 18 || age > 90) {\n    pushNotification(10, 10, 'Error', 'age should be between 18 & 90', 'error');\n\n    return;\n  }\n\n  if (!personName || !position || !age || !salary) {\n    pushNotification(10, 10, 'Error', 'Required fields are empty', 'error');\n\n    return;\n  }\n\n  const newRow = document.createElement('tr');\n\n  newRow.innerHTML = `\n    <td>${personName}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>$${(salary).toLocaleString('en-US')}</td>\n  `;\n\n  table.tBodies[0].append(newRow);\n  pushNotification(10, 10, 'Success', 'employee is added', 'success');\n  e.preventDefault();\n};\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const div = document.createElement('div');\n\n  document.body.style.position = 'relative';\n\n  div.dataset.qa = 'notification';\n  div.classList.add('notification');\n  div.classList.add(type);\n\n  div.innerHTML = `<h2 class='title'>${title}</h2>\n  <p>${description}</p>`;\n\n  div.style.top = posTop + 'px';\n  div.style.position = 'absolute';\n  div.style.right = posRight + 'px';\n\n  document.body.append(div);\n  setTimeout(() => div.remove(), 3000);\n};\n\ntable.tBodies[0].addEventListener('dblclick', (e) => {\n  const changeValue = e.target;\n  const removedTxt = changeValue.innerText;\n\n  changeValue.innerHTML = `\n    <input name=\"cell-input\" class='cell-input' value='${removedTxt}'>`;\n\n  const input = document.querySelector('.cell-input');\n\n  function changeCell(ev) {\n    changeValue.innerHTML = ev.target.value || removedTxt;\n    ev.target.remove();\n  };\n\n  input.onblur = changeCell;\n\n  input.onkeydown = function(ev) {\n    if (ev.code === 'Enter') {\n      this.blur();\n    }\n  };\n});\n"]}